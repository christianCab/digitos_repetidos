program PROBLEMA_2;
{
  Un número natural tiene dígitos repetidos cuando alguno de sus dígitos aparece más de una vez.
  Ejemplos:
  Tienen dígitos repetidos 808, 33 y 100.
  No tienen dígitos repetidos 102, 12 y 3
  Implementar un programa que muestre todos los números naturales que tengan dígitos repetidos
  hasta un valor N > 100. El valor N debe ser ingresado por el usuario y validado por el programa.
  El programa debe estar dividido en sub-problemas (funciones:Repetidos y Pertenece,
   procedimiento:
  ValidarEntrada)
  Algoritmo REPETIDOS
  Dato de entrada : num (entero)
  Dato de Salida: REPETIDOS (booleano)
  hay ← falso
  Mientras (num > 0) Y (NO hay) hacer
  	dig ← num mod 10
  	num ← num div 10
  	hay ← PERTENECE (dig, num) //esta primitiva busca el dígito dig en num
  REPETIDOS ← hay
}
{$codepage utf8}
var
  num:,i,integer;
  condicion:boolean;
//---------------------------------------------------
procedure validarEntrada(var num:integer);
  begin
  while(num < 100) do
    begin
    write('>>>ERROR. Ingresá un número mayor a 100: ');
    readln(num);
    end;
  end;
//---------------------------------------------------
{
  bucle que repite descomponiendo el numero y verificando si el digito esta ahí
  funcion pertenece (dig,num:integer):boolean;
}
function pertenece(dig,num:integer):boolean;
  var
    cant:integer;
    condicion:boolean;
  begin
  cant:=0;
  if (dig=num)or(num mod 10 = dig) then
    cant:=cant+1;
  if(cant>=2)then
    condicion:=true
  else
    condicion:=false;
  pertenece:=condicion;
  end;
//---------------------------------------------------
function repetidos(num:integer):boolean;
  var
    dig:integer; 
    hay:=boolean;
  begin
  hay:=false;
  while(num>0)and not(hay);
    begin
    dig:=num MOD 10;//ultimo numero del num ingresado, que es la iteracipion del programa global 
    num:=num DIV 10;//descompongo el iterador para controlar
    hay:=pertenece(dig,num);//funcion para retornar si el digito se encuentra en el num
    end;
  repetidos:=hay;
  end;
//---------------------------------------------------
begin
  write('Ingresá un número mayor a 100: ');
  readln(num);
  validarEntrada(num);
  writeln('Los números que cumplen la condición, son: ');
  for i:=1 to num do
    begin
    condicion:=repetidos(i);
    if (condicion)then
    write (i);  
    end;
  readln;
end.
